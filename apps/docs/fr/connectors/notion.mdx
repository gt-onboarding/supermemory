---
title: "Connecteur Notion"
description: "Synchronisez des pages, des bases de donn√©es et des blocs Notion via des webhooks en temps r√©el et une int√©gration √† l‚Äôespace de travail"
icon: "notion"
---

Connectez des espaces de travail Notion pour synchroniser automatiquement des pages, des bases de donn√©es et des blocs de contenu dans votre base de connaissances Supermemory. Prend en charge les mises √† jour en temps r√©el, la mise en forme enrichie et les propri√©t√©s de bases de donn√©es.

<div id="quick-setup">
  ## Configuration rapide
</div>

<div id="1-create-notion-connection">
  ### 1. Cr√©er une int√©gration Notion
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import Supermemory from 'supermemory';

    const client = new Supermemory({
      apiKey: process.env.SUPERMEMORY_API_KEY!
    });

    const connection = await client.connections.create('notion', {
      redirectUrl: 'https://yourapp.com/auth/notion/callback',
      containerTags: ['user-123', 'notion-workspace'],
      documentLimit: 2000,
      metadata: {
        source: 'notion',
        workspaceType: 'team',
        department: 'product'
      }
    });

    // Rediriger l‚Äôutilisateur vers l‚Äôauthentification OAuth de Notion
    window.location.href = connection.authLink;
    ```
  </Tab>
  <Tab title="Python">
    ```python
    from supermemory import Supermemory
    import os

    client = Supermemory(api_key=os.environ.get("SUPERMEMORY_API_KEY"))

    connection = client.connections.create(
        'notion',
        redirect_url='https://yourapp.com/auth/notion/callback',
        container_tags=['user-123', 'notion-workspace'],
        document_limit=2000,
        metadata={
            'source': 'notion',
            'workspaceType': 'team',
            'department': 'product'
        }
    )

    # Rediriger l‚Äôutilisateur vers l‚Äôauthentification OAuth de Notion
    print(f'Redirection vers : {connection.auth_link}')
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v3/connections/notion" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "redirectUrl": "https://yourapp.com/auth/notion/callback",
        "containerTags": ["user-123", "notion-workspace"],
        "documentLimit": 2000,
        "metadata": {
          "source": "notion",
          "workspaceType": "team",
          "department": "product"
        }
      }'
    ```
  </Tab>
</Tabs>

<div id="2-handle-oauth-flow">
  ### 2. G√©rer le flux OAuth
</div>

Une fois que l‚Äôutilisateur a accord√© l‚Äôacc√®s √† l‚Äôespace de travail, Notion redirige vers votre URL de rappel. L‚Äôint√©gration est alors √©tablie automatiquement.

<div id="3-monitor-sync-progress">
  ### 3. Suivre la progression de la synchronisation
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // V√©rifier les d√©tails de l‚Äôint√©gration
    const connection = await client.connections.getByTags('notion', {
      containerTags: ['user-123', 'notion-workspace']
    });

    console.log('Espace de travail connect√© :', connection.email);
    console.log('Int√©gration cr√©√©e :', connection.createdAt);

    // Lister les pages et bases de donn√©es synchronis√©es
    const documents = await client.connections.listDocuments('notion', {
      containerTags: ['user-123', 'notion-workspace']
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # V√©rifier les d√©tails de l‚Äôint√©gration
    connection = client.connections.get_by_tags(
        'notion',
        container_tags=['user-123', 'notion-workspace']
    )

    print(f'Espace de travail connect√© : {connection.email}')
    print(f'Int√©gration cr√©√©e : {connection.created_at}')

    # Lister les pages et bases de donn√©es synchronis√©es
    documents = client.connections.list_documents(
        'notion',
        container_tags=['user-123', 'notion-workspace']
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Obtenir les d√©tails de l‚Äôint√©gration par provider et tags
    curl -X POST "https://api.supermemory.ai/v3/connections/notion/connection" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123", "notion-workspace"]}'

    # La r√©ponse inclut les d√©tails de l‚Äôint√©gration :
    # {
    #   "id": "conn_abc123",
    #   "provider": "notion",
    #   "email": "workspace@example.com",
    #   "createdAt": "2024-01-15T10:00:00Z",
    #   "documentLimit": 2000,
    #   "metadata": {...}
    # }

    # Lister les documents synchronis√©s
    curl -X POST "https://api.supermemory.ai/v3/connections/notion/documents" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123", "notion-workspace"]}'

    # R√©ponse : tableau d‚Äôobjets document avec le status de synchronisation
    # [
    #   {"title": "Product Roadmap", "type": "notion_database", "status": "done"},
    #   {"title": "Meeting Notes", "type": "notion_page", "status": "done"}
    # ]
    ```
  </Tab>
</Tabs>

<div id="supported-content-types">
  ## Types de contenus pris en charge
</div>

<div id="notion-pages">
  ### Pages Notion
</div>

- **Blocs de texte enrichi** avec mise en forme pr√©serv√©e
- **Pages imbriqu√©es** et structure hi√©rarchique
- **Contenu int√©gr√©** (images, vid√©os, fichiers)
- **Blocs de code** avec surlignage syntaxique
- **Encadr√©s et citations** convertis en Markdown

<div id="notion-databases">
  ### Bases de donn√©es Notion
</div>

- **Entr√©es de base de donn√©es** synchronis√©es en tant que documents individuels
- **Propri√©t√©s** incluses dans les Metadata
- **Relations** entre les entr√©es de base de donn√©es
- **Formules et agr√©gations (rollups)**, valeurs calcul√©es
- **Propri√©t√©s ‚Äúmulti-select‚Äù et ‚Äúselect‚Äù**

<div id="block-types">
  ### Types de blocs
</div>

| Type de bloc | Traitement | Sortie Markdown |
|------------|------------|-----------------|
| **Texte** | Mise en forme conserv√©e | `**bold**`, `*italic*`, `~~strikethrough~~` |
| **Titre** | Hi√©rarchie conserv√©e | `# H1`, `## H2`, `### H3` |
| **Code** | Langage d√©tect√© | ````python\ncode here\n```` |
| **Citation** | Format de bloc de citation | `> quoted text` |
| **Encadr√©** | Mise en forme personnalis√©e | `> üí° **Remarque¬†:** callout text` |
| **Liste** | Structure conserv√©e | `- item 1\n  - nested item` |
| **Tableau** | Tableaux Markdown | `| Col 1 | Col 2 |\n|-------|-------|` |
| **Image** | R√©f√©renc√©e avec Metadata | `![alt text](url)` |
| **Int√©gration** | Lien avec contexte | `[Embedded Content](url)` |

<div id="delete-connection">
  ## Supprimer une int√©gration
</div>

Supprimez une int√©gration Notion lorsqu‚Äôelle n‚Äôest plus n√©cessaire¬†:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Supprimer par ID d‚Äôint√©gration
    const result = await client.connections.delete('connection_id_123');
    console.log('Connexion supprim√©e¬†:', result.id);

    // Supprimer par provider et container tags
    const providerResult = await client.connections.deleteByProvider('notion', {
      containerTags: ['user-123']
    });
    console.log('Int√©gration Notion supprim√©e pour l‚Äôutilisateur');
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Supprimer par ID d‚Äôint√©gration
    result = client.connections.delete('connection_id_123')
    print(f'Connexion supprim√©e : {result.id}')

    # Supprimer par provider et container tags
    provider_result = client.connections.delete_by_provider(
        'notion',
        container_tags=['user-123']
    )
    print('Int√©gration Notion supprim√©e pour l‚Äôutilisateur')
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Supprimer par ID d‚Äôint√©gration
    curl -X DELETE "https://api.supermemory.ai/v3/connections/connection_id_123" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY"

    # Supprimer par provider et container tags
    curl -X DELETE "https://api.supermemory.ai/v3/connections/notion" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123"]}'
    ```
  </Tab>
</Tabs>

<Note>
La suppression d‚Äôune int√©gration¬†:
- interrompt toutes les synchronisations futures depuis Notion
- r√©voque l‚Äôautorisation OAuth
- conserve les documents d√©j√† synchronis√©s dans Supermemory (ils ne seront pas supprim√©s)
</Note>

<div id="advanced-configuration">
  ## Configuration avanc√©e
</div>

<div id="custom-notion-integration">
  ### Int√©gration Notion personnalis√©e
</div>

Pour les d√©ploiements en production, cr√©ez votre propre int√©gration Notion¬†:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Commencez par mettre √† jour les param√®tres de l‚Äôorganisation avec les identifiants de votre application Notion
    await client.settings.update({
      notionCustomKeyEnabled: true,
      notionClientId: 'your-notion-client-id',
      notionClientSecret: 'your-notion-client-secret'
    });

    // Cr√©ez ensuite des int√©grations √† l‚Äôaide de votre int√©gration personnalis√©e
    const connection = await client.connections.create('notion', {
      redirectUrl: 'https://yourapp.com/callback',
      containerTags: ['org-456', 'user-789'],
      metadata: { customIntegration: true }
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Commencez par mettre √† jour les param√®tres de l‚Äôorganisation avec les identifiants de votre application Notion
    client.settings.update(
        notion_custom_key_enabled=True,
        notion_client_id='your-notion-client-id',
        notion_client_secret='your-notion-client-secret'
    )

    # Cr√©ez ensuite des int√©grations √† l‚Äôaide de votre int√©gration personnalis√©e
    connection = client.connections.create(
        'notion',
        redirect_url='https://yourapp.com/callback',
        container_tags=['org-456', 'user-789'],
        metadata={'customIntegration': True}
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Mettre √† jour les param√®tres de l‚Äôorganisation
    curl -X PATCH "https://api.supermemory.ai/v3/settings" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "notionCustomKeyEnabled": true,
        "notionClientId": "your-notion-client-id",
        "notionClientSecret": "your-notion-client-secret"
      }'
    ```
  </Tab>
</Tabs>

<div id="content-filtering">
  ### Filtrage du contenu
</div>

Contr√¥lez quels contenus Notion sont synchronis√©s¬†:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Configure intelligent filtering for Notion content
    await client.settings.update({
      shouldLLMFilter: true,
      includeItems: {
        pageTypes: ['page', 'database'],
        titlePatterns: ['*Spec*', '*Documentation*', '*Meeting Notes*'],
        databases: ['Project Tracker', 'Knowledge Base', 'Team Wiki']
      },
      excludeItems: {
        titlePatterns: ['*Draft*', '*Personal*', '*Archive*'],
        databases: ['Personal Tasks', 'Scratchpad']
      },
      filterPrompt: "Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Configure intelligent filtering for Notion content
    client.settings.update(
        should_llm_filter=True,
        include_items={
            'pageTypes': ['page', 'database'],
            'titlePatterns': ['*Spec*', '*Documentation*', '*Meeting Notes*'],
            'databases': ['Project Tracker', 'Knowledge Base', 'Team Wiki']
        },
        exclude_items={
            'titlePatterns': ['*Draft*', '*Personal*', '*Archive*'],
            'databases': ['Personal Tasks', 'Scratchpad']
        },
        filter_prompt="Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Configure intelligent filtering for Notion content
    curl -X PATCH "https://api.supermemory.ai/v3/settings" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -D '{
        "shouldLLMFilter": true,
        "includeItems": {
          "pageTypes": ["page", "database"],
          "titlePatterns": ["*Spec*", "*Documentation*", "*Meeting Notes*"],
          "databases": ["Project Tracker", "Knowledge Base", "Team Wiki"]
        },
        "excludeItems": {
          "titlePatterns": ["*Draft*", "*Personal*", "*Archive*"],
          "databases": ["Personal Tasks", "Scratchpad"]
        },
        "filterPrompt": "Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
      }'

    # Response:
    # {
    #   "success": true,
    #   "message": "Settings updated successfully"
    # }
    ```
  </Tab>
</Tabs>

<div id="workspace-permissions">
  ## Autorisations de l‚Äôespace de travail
</div>

Le connecteur Notion respecte les autorisations de l‚Äôespace de travail¬†:

| Niveau d‚Äôautorisation | Comportement de synchronisation |
|-----------------|---------------|
| **Admin** | Acc√®s complet √† l‚Äôespace de travail |
| **Member** | Pages avec acc√®s en lecture |
| **Guest** | Pages partag√©es uniquement |
| **No Access** | Supprim√© de l‚Äôindex |

<div id="database-integration">
  ## Int√©gration aux bases de donn√©es
</div>

<div id="database-properties">
  ### Propri√©t√©s de la base de donn√©es
</div>

Les propri√©t√©s de base de donn√©es Notion sont mapp√©es aux Metadata¬†:

```typescript
// Exemple : Base de donn√©es de projet avec propri√©t√©s
const documents = await client.connections.listDocuments('notion', {
  containerTags: ['user-123']
});

// Trouver les entr√©es de base de donn√©es
const projectEntries = documents.filter(doc =>
  doc.metadata?.database === 'Projects'
);

// Les propri√©t√©s de base de donn√©es deviennent des metadata consultables
const projectWithStatus = await client.search.documents({
  q: "projet d'apprentissage automatique",
  containerTags: ['user-123'],
  filters: JSON.stringify({
    AND: [
      { key: "status", value: "In Progress", negate: false },
      { key: "priority", value: "High", negate: false }
    ]
  })
});
```


<div id="optimization-strategies">
  ### Strat√©gies d‚Äôoptimisation
</div>

1. **D√©finissez des limites de documents adapt√©es** √† la taille de l‚Äôespace de travail
2. **Utilisez des balises de conteneur cibl√©es** pour une organisation efficace
3. **Surveillez les performances de synchronisation des bases de donn√©es** pour les jeux de donn√©es volumineux
4. **Mettez en place un filtrage de contenu** pour ne synchroniser que les pages pertinentes
5. **G√©rez les retards de webhook** de mani√®re fluide dans votre application

<Callout type="info">
**Avantages sp√©cifiques √† Notion :**
- Synchronisation en temps r√©el via des webhooks pour des mises √† jour instantan√©es
- Mise en forme riche et structure en blocs conserv√©es
- Les propri√©t√©s des bases de donn√©es deviennent des metadata recherchables
- Structure hi√©rarchique des pages maintenue
- Prise en charge de la collaboration au sein de l‚Äôespace de travail
</Callout>

<Warning>
**Limitations importantes :**
- La mise en forme de blocs complexe peut √™tre simplifi√©e lors de la conversion en Markdown
- Les bases de donn√©es volumineuses peuvent n√©cessiter un temps important pour la synchronisation initiale
- Les autorisations de l‚Äôespace de travail d√©terminent le contenu accessible
- Les limites de taux de l‚ÄôAPI Notion peuvent affecter la vitesse de synchronisation pour les grands espaces de travail
- Les fichiers et images int√©gr√©s sont r√©f√©renc√©s, et non stock√©s directement
</Warning>