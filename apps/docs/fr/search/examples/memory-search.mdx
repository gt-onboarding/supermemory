---
title: "Recherche de memories (/v4/search)"
description: "Recherche à latence minimale, optimisée pour les chatbots et l’IA conversationnelle"
---

La recherche de memories (`POST /v4/search`) fournit une latence minimale, optimisée pour les interactions en temps réel. Cet endpoint privilégie la vitesse au détriment d’un contrôle étendu, ce qui le rend idéal pour les chatbots, les systèmes de questions‑réponses et toute application où les utilisateurs attendent des réponses immédiates.

<div id="basic-search">
  ## Recherche basique
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import Supermemory from 'supermemory';

    const client = new Supermemory({
      apiKey: process.env.SUPERMEMORY_API_KEY!
    });

    const results = await client.search.memories({
      q: "machine learning applications",
      limit: 5
    });

    console.log(results)
    ```
  </Tab>

  <Tab title="Python">
    ```python
    from supermemory import Supermemory
    import os

    client = Supermemory(api_key=os.environ.get("SUPERMEMORY_API_KEY"))

    results = client.search.memories(
        q="machine learning applications",
        limit=5
    )

    console.log(results)
    ```
  </Tab>

  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning applications",
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

**Exemple de sortie :**

```json
{
  "results": [
    {
      "id": "mem_ml_apps_2024",
      "memory": "Les applications d'apprentissage automatique s'étendent à de nombreux secteurs, notamment la santé (imagerie diagnostique, découverte de médicaments), la finance (détection de fraude, trading algorithmique), les véhicules autonomes (vision par ordinateur, planification de trajectoire) et le traitement du langage naturel (chatbots, services de traduction).",
      "similarity": 0.92,
      "title": "Applications industrielles de l'apprentissage automatique",
      "type": "text",
      "metadata": {
        "topic": "machine-learning",
        "industry": "technology",
        "created": "2024-01-10"
      }
    },
    {
      "id": "mem_ml_healthcare",
      "memory": "Dans le secteur de la santé, l'apprentissage automatique permet la détection précoce de maladies grâce à l'analyse d'imagerie médicale, des recommandations de traitement personnalisées et l'accélération de la découverte de médicaments en prédisant le comportement moléculaire.",
      "similarity": 0.89,
      "title": "ML dans la santé",
      "type": "text"
    }
  ],
  "total": 8,
  "timing": 87
}
```


<div id="container-tag-filtering">
  ## Filtrage par balise de conteneur
</div>

Filtrez par utilisateur, projet ou organisation :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "project updates",
      containerTag: "user_123",  // Remarque : au singulier, pas au pluriel
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="project updates",
        container_tag="user_123",  # Remarque : au singulier, pas au pluriel
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "project updates",
        "containerTag": "user_123",
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="threshold-control">
  ## Réglage du seuil
</div>

Ajustez la qualité des résultats avec un seuil de similarité :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "artificial intelligence research",
      threshold: 0.7,  // Plus élevé = moins de résultats, plus similaires
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="artificial intelligence research",
        threshold=0.7,  # Plus élevé = moins de résultats, plus similaires
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "artificial intelligence research",
        "threshold": 0.7,
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="reranking">
  ## Reranking
</div>

Améliorez la qualité des résultats grâce à un classement secondaire :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "quantum computing breakthrough",
      rerank: true,  // Meilleure pertinence, légère hausse de la latence
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="quantum computing breakthrough",
        rerank=True,  # Meilleure pertinence, légère hausse de la latence
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "quantum computing breakthrough",
        "rerank": true,
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="query-rewriting">
  ## Réécriture de requêtes
</div>

Améliorez la précision de la recherche grâce à l’extension automatique des requêtes :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "How do neural networks learn?",
      rewriteQuery: true,  // +400 ms de latence, mais de meilleurs résultats
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="How do neural networks learn?",
        rewrite_query=True,  # +400 ms de latence, mais de meilleurs résultats
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "How do neural networks learn?",
        "rewriteQuery": true,
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="include-related-content">
  ## Inclure du contenu lié
</div>

Incluez des documents, des memories liées et des résumés :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "machine learning trends",
      include: {
        documents: true,        // Inclure les documents source
        relatedMemories: true,  // Inclure les entrées de memory liées
        summaries: true         // Inclure les résumés de memory
      },
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="machine learning trends",
        include={
            "documents": True,        # Inclure les documents source
            "relatedMemories": True,  # Inclure les entrées de memory liées
            "summaries": True         # Inclure les résumés de memory
        },
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning trends",
        "include": {
          "documents": true,
          "relatedMemories": true,
          "summaries": true
        },
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="metadata-filtering">
  ## Filtrage de métadonnées
</div>

Filtrage simple des métadonnées pour la recherche de memories :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "research findings",
      filters: {
        AND: [
          { key: "category", value: "science", negate: false },
          { key: "status", value: "published", negate: false }
        ]
      },
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="research findings",
        filters={
            "AND": [
                {"key": "category", "value": "science", "negate": False},
                {"key": "status", "value": "published", "negate": False}
            ]
        },
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "research findings",
        "filters": {
          "AND": [
            {"key": "category", "value": "science", "negate": false},
            {"key": "status", "value": "published", "negate": false}
          ]
        },
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="chatbot-example">
  ## Exemple de chatbot
</div>

Configuration optimale pour une IA conversationnelle :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Optimisé pour les réponses de chatbot
    const results = await client.search.memories({
      q: userMessage,
      containerTag: userId,
      threshold: 0.6,     // Pertinence équilibrée
      rerank: false,      // Ignorer pour gagner en vitesse
      rewriteQuery: false, // Ignorer pour gagner en vitesse
      limit: 3            // Peu de résultats, mais pertinents
    });

    // Réponse rapide pour le chat
    const context = results.results
      .map(r => r.memory)
      .join('\n\n');
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Optimisé pour les réponses de chatbot
    results = client.search.memories(
        q=user_message,
        container_tag=user_id,
        threshold=0.6,     # Pertinence équilibrée
        rerank=False,      # Ignorer pour gagner en vitesse
        rewrite_query=False, # Ignorer pour gagner en vitesse
        limit=3            # Peu de résultats, mais pertinents
    )

    # Réponse rapide pour le chat
    context = '\n\n'.join([r.memory for r in results.results])
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Optimisé pour les réponses de chatbot
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "user question here",
        "containerTag": "user_123",
        "threshold": 0.6,
        "rerank": false,
        "rewriteQuery": false,
        "limit": 3
      }'
    ```
  </Tab>
</Tabs>

<div id="complete-memories-search-example">
  ## Exemple complet de recherche de memories
</div>

Combiner des fonctionnalités pour obtenir des résultats complets :

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "machine learning model performance",
      containerTag: "research_team",
      filters: {
        AND: [
          { key: "topic", value: "ai", negate: false }
        ]
      },
      threshold: 0.7,
      rerank: true,
      rewriteQuery: false, // Ignorer pour gagner en vitesse
      include: {
        documents: true,
        relatedMemories: false,
        summaries: true
      },
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="machine learning model performance",
        container_tag="research_team",
        filters={
            "AND": [
                {"key": "topic", "value": "ai", "negate": False}
            ]
        },
        threshold=0.7,
        rerank=True,
        rewrite_query=False,  # Ignorer pour gagner en vitesse
        include={
            "documents": True,
            "relatedMemories": False,
            "summaries": True
        },
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning model performance",
        "containerTag": "research_team",
        "filters": {
          "AND": [
            {"key": "topic", "value": "ai", "negate": false}
          ]
        },
        "threshold": 0.7,
        "rerank": true,
        "rewriteQuery": false,
        "include": {
          "documents": true,
          "relatedMemories": false,
          "summaries": true
        },
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="comon-use-cases">
  ## Cas d’usage courants
</div>

- **Chatbots**: Recherche basique avec balise de conteneur et threshold faible
- **Systèmes de Q&R**: Activer le Reranking pour une meilleure pertinence
- **Recherche de connaissances**: Inclure des documents et des résumés
- **Recherche en temps réel**: Ignorer la réécriture et le reranking pour une vitesse maximale