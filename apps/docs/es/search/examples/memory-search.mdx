---
title: "Búsqueda de Memories (/v4/search)"
description: "Búsqueda con latencia mínima, optimizada para chatbots e IA conversacional"
---

La búsqueda de memories (`POST /v4/search`) ofrece una latencia mínima, optimizada para interacciones en tiempo real. Este endpoint prioriza la velocidad sobre el control detallado, lo que lo hace ideal para chatbots, sistemas de preguntas y respuestas y cualquier aplicación donde los usuarios esperan respuestas inmediatas.

<div id="basic-search">
  ## Búsqueda básica
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import Supermemory from 'supermemory';

    const client = new Supermemory({
      apiKey: process.env.SUPERMEMORY_API_KEY!
    });

    const results = await client.search.memories({
      q: "machine learning applications",
      limit: 5
    });

    console.log(results)
    ```
  </Tab>

  <Tab title="Python">
    ```python
    from supermemory import Supermemory
    import os

    client = Supermemory(api_key=os.environ.get("SUPERMEMORY_API_KEY"))

    results = client.search.memories(
        q="machine learning applications",
        limit=5
    )

    print(results)
    ```
  </Tab>

  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning applications",
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

**Resultado de ejemplo:**

```json
{
  "results": [
    {
      "id": "mem_ml_apps_2024",
      "memory": "Las aplicaciones de machine learning abarcan numerosos sectores, incluida la atención sanitaria (diagnóstico por imagen, descubrimiento de fármacos), las finanzas (detección de fraude, negociación algorítmica), los vehículos autónomos (visión por computadora, planificación de rutas) y el procesamiento del lenguaje natural (chatbots, servicios de traducción).",
      "similarity": 0.92,
      "title": "Aplicaciones de machine learning por industria",
      "type": "text",
      "metadata": {
        "topic": "machine-learning",
        "industry": "technology",
        "created": "2024-01-10"
      }
    },
    {
      "id": "mem_ml_healthcare",
      "memory": "En el sector sanitario, el machine learning permite la detección temprana de enfermedades mediante el análisis de imágenes médicas, recomendaciones de tratamientos personalizados y la aceleración del descubrimiento de fármacos al predecir el comportamiento molecular.",
      "similarity": 0.89,
      "title": "ML en el sector sanitario"
      "type": "text"
    }
  ],
  "total": 8,
  "timing": 87
}
```


<div id="container-tag-filtering">
  ## Filtrado por etiqueta de contenedor
</div>

Filtra por usuario, proyecto u organización:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "project updates",
      containerTag: "user_123",  // Nota: en singular, no en plural
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="project updates",
        container_tag="user_123",  # Nota: en singular, no en plural
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "project updates",
        "containerTag": "user_123",
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="threshold-control">
  ## Control del threshold
</div>

Controla la calidad de los resultados con el threshold de similaridad:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "artificial intelligence research",
      threshold: 0.7,  // Más alto = menos resultados, más similares
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="artificial intelligence research",
        threshold=0.7,  # Más alto = menos resultados, más similares
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "artificial intelligence research",
        "threshold": 0.7,
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="reranking">
  ## Reordenamiento
</div>

Mejora la calidad de los resultados con una clasificación secundaria:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "quantum computing breakthrough",
      rerank: true,  // Mejor relevancia; aumento leve de latencia
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="quantum computing breakthrough",
        rerank=True,  # Mejor relevancia; aumento leve de latencia
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "quantum computing breakthrough",
        "rerank": true,
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="query-rewriting">
  ## Reescritura de consultas
</div>

Mejora la precisión de la búsqueda con expansión automática de la consulta:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "How do neural networks learn?",
      rewriteQuery: true,  // +400 ms de latencia, pero mejores resultados
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="How do neural networks learn?",
        rewrite_query=True,  # +400 ms de latencia, pero mejores resultados
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "How do neural networks learn?",
        "rewriteQuery": true,
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="include-related-content">
  ## Incluir contenido relacionado
</div>

Incluye documentos, memories relacionadas y resúmenes:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "machine learning trends",
      include: {
        documents: true,        // Incluir documentos de origen
        relatedMemories: true,  // Incluir entradas de memory relacionadas
        summaries: true         // Incluir resúmenes de memory
      },
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="machine learning trends",
        include={
            "documents": True,        # Incluir documentos de origen
            "relatedMemories": True,  # Incluir entradas de memory relacionadas
            "summaries": True         # Incluir resúmenes de memory
        },
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning trends",
        "include": {
          "documents": true,
          "relatedMemories": true,
          "summaries": true
        },
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="metadata-filtering">
  ## Filtrado de metadata
</div>

Filtrado simple de metadata para la búsqueda de memories:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "research findings",
      filters: {
        AND: [
          { key: "category", value: "science", negate: false },
          { key: "status", value: "published", negate: false }
        ]
      },
      limit: 10
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="research findings",
        filters={
            "AND": [
                {"key": "category", "value": "science", "negate": False},
                {"key": "status", "value": "published", "negate": False}
            ]
        },
        limit=10
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "research findings",
        "filters": {
          "AND": [
            {"key": "category", "value": "science", "negate": false},
            {"key": "status", "value": "published", "negate": false}
          ]
        },
        "limit": 10
      }'
    ```
  </Tab>
</Tabs>

<div id="chatbot-example">
  ## Ejemplo de chatbot
</div>

Configuración óptima para IA conversacional:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Optimizado para respuestas de chatbot
    const results = await client.search.memories({
      q: userMessage,
      containerTag: userId,
      threshold: 0.6,     // Relevancia equilibrada
      rerank: false,      // Omitir para mayor velocidad
      rewriteQuery: false, // Omitir para mayor velocidad
      limit: 3            // Pocos resultados, pero relevantes
    });

    // Respuesta rápida en el chat
    const context = results.results
      .map(r => r.memory)
      .join('\n\n');
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Optimizado para respuestas de chatbot
    results = client.search.memories(
        q=user_message,
        container_tag=user_id,
        threshold=0.6,       # Relevancia equilibrada
        rerank=False,        # Omitir para mayor velocidad
        rewrite_query=False, # Omitir para mayor velocidad
        limit=3              # Pocos resultados, pero relevantes
    )

    # Respuesta rápida en el chat
    context = '\n\n'.join([r.memory for r in results.results])
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Optimizado para respuestas de chatbot
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "user question here",
        "containerTag": "user_123",
        "threshold": 0.6,
        "rerank": false,
        "rewriteQuery": false,
        "limit": 3
      }'
    ```
  </Tab>
</Tabs>

<div id="complete-memories-search-example">
  ## Ejemplo completo de búsqueda de memories
</div>

Combinación de funciones para obtener resultados completos:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    const results = await client.search.memories({
      q: "machine learning model performance",
      containerTag: "research_team",
      filters: {
        AND: [
          { key: "topic", value: "ai", negate: false }
        ]
      },
      threshold: 0.7,
      rerank: true,
      rewriteQuery: false, // Omitir para mayor velocidad
      include: {
        documents: true,
        relatedMemories: false,
        summaries: true
      },
      limit: 5
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    results = client.search.memories(
        q="machine learning model performance",
        container_tag="research_team",
        filters={
            "AND": [
                {"key": "topic", "value": "ai", "negate": False}
            ]
        },
        threshold=0.7,
        rerank=True,
        rewrite_query=False,  # Omitir para mayor velocidad
        include={
            "documents": True,
            "relatedMemories": False,
            "summaries": True
        },
        limit=5
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v4/search" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "q": "machine learning model performance",
        "containerTag": "research_team",
        "filters": {
          "AND": [
            {"key": "topic", "value": "ai", "negate": false}
          ]
        },
        "threshold": 0.7,
        "rerank": true,
        "rewriteQuery": false,
        "include": {
          "documents": true,
          "relatedMemories": false,
          "summaries": true
        },
        "limit": 5
      }'
    ```
  </Tab>
</Tabs>

<div id="comon-use-cases">
  ## Casos de uso comunes
</div>

- **Chatbots**: Búsqueda básica con etiqueta de contenedor y threshold bajo
- **Sistemas de preguntas y respuestas (Q&A)**: Añade reranking para mejorar la relevancia
- **Recuperación de conocimiento**: Incluye documentos y resúmenes
- **Búsqueda en tiempo real**: Omite rewriting y reranking para máxima velocidad