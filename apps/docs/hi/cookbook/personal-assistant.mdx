---
title: "рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ"
description: "рдРрд╕рд╛ AI рд╕рд╣рд╛рдпрдХ рдмрдирд╛рдПрдБ рдЬреЛ рд╡рд╛рд░реНрддрд╛рд▓рд╛рдкреЛрдВ рдХреЗ рджреМрд░рд╛рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдБ, рдЖрджрддреЗрдВ рдФрд░ рд╕рдВрджрд░реНрдн рдпрд╛рдж рд░рдЦреЗ"
---

рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рдмрдирд╛рдПрдБ рдЬреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдм рдХреБрдЫ рд╕реАрдЦрддрд╛ рдФрд░ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ тАФ рдЙрдирдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдБ, рдЖрджрддреЗрдВ, рдХрд╛рд░реНрдп-рд╕рдВрджрд░реНрдн рдФрд░ рд╡рд╛рд░реНрддрд╛рд▓рд╛рдк рдЗрддрд┐рд╣рд╛рд╕ред рдпрд╣ рд░реЗрд╕рд┐рдкреА рджрд┐рдЦрд╛рддреА рд╣реИ рдХрд┐ Supermemory рдХреЗ Memory Tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рдЕрдиреБрднрд╡ рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдПред

<div id="what-youll-build">
  ## рдЖрдк рдХреНрдпрд╛ рдмрдирд╛рдПрдВрдЧреЗ
</div>

рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рдЬреЛ:

- **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдБ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ** (рдЖрд╣рд╛рд░ рд╕рдВрдмрдВрдзреА рдкреНрд░рддрд┐рдмрдВрдз, рдХрд╛рд░реНрдп рдЕрдиреБрд╕реВрдЪреА, рд╕рдВрдЪрд╛рд░ рд╢реИрд▓реА)
- **рдмрд╛рддрдЪреАрдд рд╕реЗ рд╕реАрдЦрддрд╛ рд╣реИ** рдФрд░ рд╕рдордп рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ рдмреЗрд╣рддрд░ рдХрд░рддрд╛ рдЬрд╛рддрд╛ рд╣реИ
- **рдХрдИ рдЪреИрдЯ рд╕рддреНрд░реЛрдВ рдореЗрдВ рд╕рдВрджрд░реНрдн рдмрдирд╛рдП рд░рдЦрддрд╛ рд╣реИ**
- **рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрддрд┐рд╣рд╛рд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕реБрдЭрд╛рд╡ рджреЗрддрд╛ рд╣реИ**
- **рдХрдИ рдмрд╛рддрдЪреАрдд рд╡рд┐рд╖рдпреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рддреЗ рд╣реБрдП рд╕рдВрджрд░реНрдн рдмрдирд╛рдП рд░рдЦрддрд╛ рд╣реИ**

<div id="prerequisites">
  ## рдкреВрд░реНрд╡рд╛рдкреЗрдХреНрд╖рд╛рдПрдБ
</div>

- Node.js 18+ рдпрд╛ Python 3.8+
- Supermemory API рдХреБрдВрдЬреА
- OpenAI рдпрд╛ Anthropic API рдХреБрдВрдЬреА
- рдЪреИрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреА рдмреБрдирд┐рдпрд╛рджреА рд╕рдордЭ

<div id="implementation">
  ## рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди
</div>

<div id="step-1-project-setup">
  ### рдЪрд░рдг 1: рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯрдЕрдк
</div>

<Tabs>
  <Tab title="Next.js (TypeScript)">
    ```bash
    npx create-next-app@latest personal-ai --typescript --tailwind --eslint
    cd personal-ai
    npm install @supermemory/tools ai openai
    ```

    рдЕрдкрдиреЗ environment variables рд╕реЗрдЯ рдХрд░реЗрдВ:
    ```bash .env.local
    SUPERMEMORY_API_KEY=your_supermemory_key
    OPENAI_API_KEY=your_openai_key
    ```
  </Tab>

  <Tab title="Python">
    ```bash
    mkdir personal-ai && cd personal-ai
    python -m venv venv
    source venv/bin/activate  # Windows рдкрд░: venv\Scripts\activate
    pip install supermemory openai fastapi uvicorn python-multipart
    ```

    рдЕрдкрдиреЗ environment variables рд╕реЗрдЯ рдХрд░реЗрдВ:
    ```bash .env
    SUPERMEMORY_API_KEY=your_supermemory_key
    OPENAI_API_KEY=your_openai_key
    ```
  </Tab>
</Tabs>

<div id="step-2-core-assistant-logic">
  ### рдЪрд░рдг 2: рдореВрд▓ рд╕рд╣рд╛рдпрдХ рд▓реЙрдЬрд┐рдХ
</div>

<Tabs>
  <Tab title="Next.js API Route">
    ```typescript app/api/chat/route.ts
    import { streamText } from 'ai'
    import { createOpenAI } from '@ai-sdk/openai'
    import { supermemoryTools } from '@supermemory/tools/ai-sdk'

    const openai = createOpenAI({
      apiKey: process.env.OPENAI_API_KEY!
    })

    export async function POST(request: Request) {
      const { messages, userId = 'default-user' } = await request.json()

      const result = await streamText({
        model: openai('gpt-5'),
        messages,
        tools: supermemoryTools(process.env.SUPERMEMORY_API_KEY!, {
          containerTags: [userId]
        }),
        system: `рдЖрдк рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рд╣реИрдВред рдЖрдкрдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдирд╛ рдФрд░ рд╕рдордп рдХреЗ рд╕рд╛рде рдмрдврд╝рддреА рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИред

    MEMORY рдкреНрд░рдмрдВрдзрди:
    1. рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА, рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ, рдпрд╛ рд╕рдВрджрд░реНрдн рд╕рд╛рдЭрд╛ рдХрд░реЗрдВ, рддреЛ рддреБрд░рдВрдд addMemory рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВ
    2. рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрджрд░реНрдн рдХреЗ рд▓рд┐рдП рдЕрдкрдиреА рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЦреЛрдЬреЗрдВ
    3. рд╡рд░реНрддрдорд╛рди рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓реА рдмрд╛рддрдЪреАрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
    4. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рдВрд╡рд╛рдж рд╢реИрд▓реА, рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ, рдФрд░ рдЕрдХреНрд╕рд░ рдЪрд░реНрдЪрд┐рдд рд╡рд┐рд╖рдпреЛрдВ рдХреЛ рдпрд╛рдж рд░рдЦреЗрдВ

    рд╡реНрдпрдХреНрддрд┐рддреНрд╡:
    - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдиреА рд╕рдВрд╡рд╛рдж рд╢реИрд▓реА рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ
    - рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реЛрдиреЗ рдкрд░ рдкрд┐рдЫрд▓реА рдмрд╛рддрдЪреАрдд рдХрд╛ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╕рдВрджрд░реНрдн рджреЗрдВ
    - рд╕реАрдЦреЗ рдЧрдП рдкреИрдЯрд░реНрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
    - рдЧреЛрдкрдиреАрдпрддрд╛ рдХрд╛ рд╕рдореНрдорд╛рди рдХрд░рддреЗ рд╣реБрдП рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рд╣рд╛рдпрдХ рдмрдиреЗрдВ

    рдпрд╛рдж рд░рдЦрдиреЗ рдпреЛрдЧреНрдп рдЙрджрд╛рд╣рд░рдг:
    - рдХрд╛рд░реНрдп рдЕрдиреБрд╕реВрдЪреА рдФрд░ рднреВрдорд┐рдХрд╛
    - рдЖрд╣рд╛рд░ рд╕рдВрдмрдВрдзреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ/рдкреНрд░рддрд┐рдмрдВрдз
    - рд╕рдВрд╡рд╛рдж рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ (рдФрдкрдЪрд╛рд░рд┐рдХ/рдЕрдиреМрдкрдЪрд╛рд░рд┐рдХ)
    - рд░реБрдЪрд┐ рдХреЗ рдирд┐рдпрдорд┐рдд рд╡рд┐рд╖рдп
    - рд▓рдХреНрд╖реНрдп рдФрд░ рдкрд░рд┐рдпреЛрдЬрдирд╛рдПрдВ рдЬрд┐рди рдкрд░ рд╡реЗ рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ
    - рдкрд╛рд░рд┐рд╡рд╛рд░рд┐рдХ/рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рдВрджрд░реНрдн рдЬреЛ рд╡реЗ рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ
    - рдкрд╕рдВрджреАрджрд╛ рдЙрдкрдХрд░рдг рдФрд░ рдХрд╛рд░реНрдпрдкреНрд░рд╡рд╛рд╣
    - рд╕рдордп рдХреНрд╖реЗрддреНрд░ рдФрд░ рдЙрдкрд▓рдмреНрдзрддрд╛

    рд╡реНрдпрдХреНрддрд┐рдЧрдд, рд╕рдВрджрд░реНрднрд┐рдд рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╡рд╛рдм рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрд╢рд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЦреЛрдЬреЗрдВред`
      })

      return result.toAIStreamResponse()
    }
    ```
  </Tab>

  <Tab title="Python FastAPI">
    ```python main.py
    from fastapi import FastAPI, HTTPException
    from fastapi.responses import StreamingResponse
    import openai
    from supermemory import Supermemory
    import json
    import os
    from typing import List, Dict, Any
    import asyncio

    app = FastAPI()

    openai_client = openai.AsyncOpenAI(api_key=os.getenv("OPENAI_API_KEY"))
    supermemory_client = Supermemory(api_key=os.getenv("SUPERMEMORY_API_KEY"))

    SYSTEM_PROMPT = """рдЖрдк рдПрдХ рдЕрддреНрдпрдзрд┐рдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рд╣реИрдВред рдЖрдкрдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦрдирд╛ рдФрд░ рд╕рдордп рдХреЗ рд╕рд╛рде рдмреЗрд╣рддрд░ рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдирд╛ рд╣реИред

    MEMORY MANAGEMENT:
    1. рдЬрдм рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА, рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ, рдпрд╛ рд╕рдВрджрд░реНрдн рд╕рд╛рдЭрд╛ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рддреБрд░рдВрдд рдЗрд╕реЗ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВ
    2. рдЕрдиреБрд░реЛрдзреЛрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрджрд░реНрдн рдЦреЛрдЬреЗрдВ
    3. рд╡рд░реНрддрдорд╛рди рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд┐рдЫрд▓реА рдмрд╛рддрдЪреАрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
    4. рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рдВрдЪрд╛рд░ рд╢реИрд▓реА, рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдВ, рдФрд░ рдЕрдХреНрд╕рд░ рдЪрд░реНрдЪрд┐рдд рд╡рд┐рд╖рдпреЛрдВ рдХреЛ рдпрд╛рдж рд░рдЦреЗрдВ

    PERSONALITY:
    - рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдиреА рд╕рдВрдЪрд╛рд░ рд╢реИрд▓реА рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВ
    - рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реЛрдиреЗ рдкрд░ рдкрд┐рдЫрд▓реА рдмрд╛рддрдЪреАрдд рдХрд╛ рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ рд╕рдВрджрд░реНрдн рджреЗрдВ
    - рд╕реАрдЦреЗ рдЧрдП рдкреИрдЯрд░реНрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
    - рдЧреЛрдкрдиреАрдпрддрд╛ рдХрд╛ рд╕рдореНрдорд╛рди рдХрд░рддреЗ рд╣реБрдП рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╕рд╣рд╛рдпрдХ рдмрдиреЗрдВ

    рд╡реНрдпрдХреНрддрд┐рдЧрдд, рд╕рдВрджрд░реНрднрд┐рдд рд╕рд╣рд╛рдпрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╡рд╛рдм рджреЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╣рдореЗрд╢рд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЦреЛрдЬреЗрдВред"""

    async def search_user_memories(query: str, user_id: str) -> str:
        """рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрджрд░реНрдн рдЦреЛрдЬреЗрдВ"""
        try:
            results = supermemory_client.search.memories(
                q=query,
                container_tag=f"user_{user_id}",
                limit=5
            )

            if results.results:
                context = "\n".join([r.memory for r in results.results])
                return f"рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА:\n{context}"
            return "рдХреЛрдИ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдирд╣реАрдВ рдорд┐рд▓реАред"
        except Exception as e:
            return f"рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЦреЛрдЬрдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐: {e}"

    async def add_user_memory(content: str, user_id: str):
        """рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА memory рдореЗрдВ рдирдИ рдЬрд╛рдирдХрд╛рд░реА рдЬреЛрдбрд╝реЗрдВ"""
        try:
            supermemory_client.memories.add(
                content=content,
                container_tag=f"user_{user_id}",
                metadata={"type": "personal_info", "timestamp": "auto"}
            )
        except Exception as e:
            print(f"memory рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рддреНрд░реБрдЯрд┐: {e}")

    @app.post("/chat")
    async def chat_endpoint(data: dict):
        messages = data.get("messages", [])
        user_id = data.get("userId", "default-user")

        if not messages:
            raise HTTPException(status_code=400, detail="рдХреЛрдИ рд╕рдВрджреЗрд╢ рдкреНрд░рджрд╛рди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛")

        # memory рдЦреЛрдЬ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХрд╛ рдЕрдВрддрд┐рдо рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
        user_message = messages[-1]["content"] if messages else ""

        # рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЦреЛрдЬреЗрдВ
        memory_context = await search_user_memories(user_message, user_id)

        # memory рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рд╕рд┐рд╕реНрдЯрдо рд╕рдВрджреЗрд╢ рдЬреЛрдбрд╝реЗрдВ
        enhanced_messages = [
            {"role": "system", "content": f"{SYSTEM_PROMPT}\n\n{memory_context}"}
        ] + messages

        try:
            response = await openai_client.chat.completions.create(
                model="gpt-5",
                messages=enhanced_messages,
                stream=True,
                temperature=0.7
            )

            async def generate():
                full_response = ""
                async for chunk in response:
                    if chunk.choices[0].delta.content:
                        content = chunk.choices[0].delta.content
                        full_response += content
                        yield f"data: {json.dumps({'content': content})}\n\n"

                # рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреВрд░реНрдг рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж, memory-рдпреЛрдЧреНрдп рд╕рд╛рдордЧреНрд░реА рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ
                if "remember" in user_message.lower() or any(word in user_message.lower() for word in ["prefer", "like", "dislike", "work", "schedule", "diet"]):
                    await add_user_memory(user_message, user_id)

            return StreamingResponse(generate(), media_type="text/plain")

        except Exception as e:
            raise HTTPException(status_code=500, detail=str(e))

    if __name__ == "__main__":
        import uvicorn
        uvicorn.run(app, host="0.0.0.0", port=8000)
    ```
  </Tab>
</Tabs>

<div id="step-3-frontend-interface">
  ### рдЪрд░рдг 3: рдлреНрд░рдВрдЯрдПрдВрдб рдЗрдВрдЯрд░рдлреЗрд╕
</div>

<Tabs>
  <Tab title="Next.js рдЪреИрдЯ рдХреЙрдореНрдкреЛрдиреЗрдВрдЯ">
    ```tsx app/page.tsx
    'use client'

    import { useChat } from 'ai/react'
    import { useState, useEffect } from 'react'

    export default function PersonalAssistant() {
      const [userId, setUserId] = useState('')
      const [userName, setUserName] = useState('')

      const { messages, input, handleInputChange, handleSubmit, isLoading } = useChat({
        api: '/api/chat',
        body: {
          userId
        }
      })

      // рдпреВрдЬрд░ ID рдЬреЗрдирд░реЗрдЯ рдХрд░реЗрдВ рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
      useEffect(() => {
        const storedUserId = localStorage.getItem('personal-ai-user-id')
        const storedUserName = localStorage.getItem('personal-ai-user-name')

        if (storedUserId) {
          setUserId(storedUserId)
          setUserName(storedUserName || '')
        } else {
          const newUserId = `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
          localStorage.setItem('personal-ai-user-id', newUserId)
          setUserId(newUserId)
        }
      }, [])

      const handleNameSubmit = (e: React.FormEvent) => {
        e.preventDefault()
        if (userName.trim()) {
          localStorage.setItem('personal-ai-user-name', userName)
          // рдкрд░рд┐рдЪрдп рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдВ
          handleSubmit(e, {
            data: {
              content: `рдирдорд╕реНрддреЗ! рдореЗрд░рд╛ рдирд╛рдо ${userName} рд╣реИред рдореИрдВ рдПрдХ рдкрд░реНрд╕рдирд▓ AI рдЕрд╕рд┐рд╕реНрдЯреЗрдВрдЯ рдХреА рддрд▓рд╛рд╢ рдореЗрдВ рд╣реВрдВ рдЬреЛ рдореЗрд░реЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦ рд╕рдХреЗ рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдХрд╛рдореЛрдВ рдореЗрдВ рдореЗрд░реА рдорджрдж рдХрд░ рд╕рдХреЗред`
            }
          })
        }
      }

      return (
        <div className="flex flex-col h-screen max-w-4xl mx-auto p-4">
          {/* рд╣реЗрдбрд░ */}
          <div className="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 rounded-lg mb-6">
            <h1 className="text-2xl font-bold">рдкрд░реНрд╕рдирд▓ AI рдЕрд╕рд┐рд╕реНрдЯреЗрдВрдЯ</h1>
            <p className="text-blue-100">
              {userName ? `рдирдорд╕реНрддреЗ ${userName}!` : 'рдЖрдкрдХрд╛ AI рдЬреЛ рд╕реАрдЦрддрд╛ рдФрд░ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ'}
            </p>
          </div>

          {/* рдирд╛рдо рд╕реЗрдЯрдЕрдк */}
          {!userName && (
            <div className="bg-white border border-gray-200 rounded-lg p-6 mb-6">
              <form onSubmit={handleNameSubmit} className="flex gap-2">
                <input
                  type="text"
                  value={userName}
                  onChange={(e) => setUserName(e.target.value)}
                  placeholder="рдореИрдВ рдЖрдкрдХреЛ рдХреНрдпрд╛ рдирд╛рдо рд╕реЗ рдмреБрд▓рд╛рдКрдВ?"
                  className="flex-1 p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
                <button
                  type="submit"
                  className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  рд╢реБрд░реВ рдХрд░реЗрдВ
                </button>
              </form>
            </div>
          )}

          {/* рдореИрд╕реЗрдЬ */}
          <div className="flex-1 overflow-y-auto space-y-4 mb-4">
            {messages.length === 0 && userName && (
              <div className="bg-gray-50 border border-gray-200 rounded-lg p-4">
                <p className="text-gray-600">
                  рдирдорд╕реНрддреЗ {userName}! рдореИрдВ рдЖрдкрдХрд╛ рдкрд░реНрд╕рдирд▓ AI рдЕрд╕рд┐рд╕реНрдЯреЗрдВрдЯ рд╣реВрдВред рдЬреИрд╕реЗ-рдЬреИрд╕реЗ рд╣рдо рдмрд╛рдд рдХрд░реЗрдВрдЧреЗ, рдореИрдВ рдЖрдкрдХреА рдкрд╕рдВрдж,
                  рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдФрд░ рд░реБрдЪрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реАрдЦреВрдВрдЧрд╛ред рдЬреЛ рднреА рдЖрдк рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдореИрдВ рдпрд╛рдж рд░рдЦреВрдВ, рдмреЗрдЭрд┐рдЭрдХ рдмрддрд╛рдПрдВ!
                </p>
                <div className="mt-3 text-sm text-gray-500">
                  <p><strong>рдпреЗ рдХрд╣рдХрд░ рджреЗрдЦреЗрдВ:</strong></p>
                  <ul className="list-disc list-inside mt-1 space-y-1">
                    <li>"рдореИрдВ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рд╣реВрдВ рдФрд░ рдЫреЛрдЯреЗ рдЬрд╡рд╛рдм рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдВ"</li>
                    <li>"рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдореИрдВ рд╢рд╛рдХрд╛рд╣рд╛рд░реА рд╣реВрдВ рдФрд░ рдореБрдЭреЗ рдирдЯреНрд╕ рд╕реЗ рдПрд▓рд░реНрдЬреА рд╣реИ"</li>
                    <li>"рдореИрдВ рдЖрдорддреМрд░ рдкрд░ 9-5 EST рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдВ рдФрд░ рджреЛрдкрд╣рд░ рдореЗрдВ рд▓рдВрдЪ рд▓реЗрддрд╛ рд╣реВрдВ"</li>
                  </ul>
                </div>
              </div>
            )}

            {messages.map((message) => (
              <div
                key={message.id}
                className={`p-4 rounded-lg ${
                  message.role === 'user'
                    ? 'bg-blue-500 text-white ml-auto max-w-2xl'
                    : 'bg-white border border-gray-200 max-w-2xl'
                }`}
              >
                <div className="flex items-start space-x-2">
                  {message.role === 'assistant' && (
                    <div className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold">
                      AI
                    </div>
                  )}
                  <div className="flex-1">
                    <p className="whitespace-pre-wrap">{message.content}</p>
                  </div>
                </div>
              </div>
            ))}

            {isLoading && (
              <div className="bg-white border border-gray-200 rounded-lg p-4 max-w-2xl">
                <div className="flex items-center space-x-2">
                  <div className="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold">
                    AI
                  </div>
                  <div className="flex space-x-1">
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.1s'}}></div>
                    <div className="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                  </div>
                </div>
              </div>
            )}
          </div>

          {/* рдЗрдирдкреБрдЯ */}
          {userName && (
            <form onSubmit={handleSubmit} className="flex gap-2">
              <input
                value={input}
                onChange={handleInputChange}
                placeholder="рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдмрддрд╛рдПрдВ, рдпрд╛ рдорджрдж рдорд╛рдВрдЧреЗрдВ..."
                className="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                disabled={isLoading}
              />
              <button
                type="submit"
                disabled={isLoading || !input.trim()}
                className="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"
              >
                рднреЗрдЬреЗрдВ
              </button>
            </form>
          )}
        </div>
      )
    }
    ```
  </Tab>

  <Tab title="Python Streamlit">
    ```python streamlit_app.py
    import streamlit as st
    import requests
    import json
    import uuid

    st.set_page_config(page_title="рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ", page_icon="ЁЯдЦ", layout="wide")

    # рд╕реЗрд╢рди рд╕реНрдЯреЗрдЯ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВ
    if 'messages' not in st.session_state:
        st.session_state.messages = []
    if 'user_id' not in st.session_state:
        st.session_state.user_id = f"user_{uuid.uuid4().hex[:8]}"
    if 'user_name' not in st.session_state:
        st.session_state.user_name = None

    # рд╣реЗрдбрд░
    st.title("ЁЯдЦ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ")
    st.markdown("*рдЖрдкрдХрд╛ AI рдЬреЛ рд╕реАрдЦрддрд╛ рдФрд░ рдпрд╛рдж рд░рдЦрддрд╛ рд╣реИ*")

    # рдпреВрдЬрд╝рд░ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрдбрдмрд╛рд░
    with st.sidebar:
        st.header("ЁЯСд рдпреВрдЬрд╝рд░ рдкреНрд░реЛрдлрд╝рд╛рдЗрд▓")

        if not st.session_state.user_name:
            name = st.text_input("рдореБрдЭреЗ рдЖрдкрдХреЛ рдХреНрдпрд╛ рдХрд╣рдирд╛ рдЪрд╛рд╣рд┐рдП?")
            if st.button("рд╢реБрд░реВ рдХрд░реЗрдВ") and name:
                st.session_state.user_name = name
                st.session_state.messages.append({
                    "role": "user",
                    "content": f"рдирдорд╕реНрддреЗ! рдореЗрд░рд╛ рдирд╛рдо {name} рд╣реИред рдореИрдВ рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рдХреА рддрд▓рд╛рд╢ рдореЗрдВ рд╣реВрдБред"
                })
                st.rerun()
        else:
            st.write(f"**рдирд╛рдо:** {st.session_state.user_name}")
            st.write(f"**user_id:** {st.session_state.user_id[:12]}...")

            if st.button("рдмрд╛рддрдЪреАрдд рд░реАрд╕реЗрдЯ рдХрд░реЗрдВ"):
                st.session_state.messages = []
                st.rerun()

        st.markdown("---")
        st.markdown("""
        ### ЁЯТб рдХрд╣рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ:
        - "рдореИрдВ рдПрдХ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рдЗрдВрдЬреАрдирд┐рдпрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдБ рдФрд░ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЙрддреНрддрд░ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдБ"
        - "рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рдореИрдВ рд╢рд╛рдХрд╛рд╣рд╛рд░реА рд╣реВрдБ"
        - "рдореИрдВ рдЖрдорддреМрд░ рдкрд░ 9-5 EST рдореЗрдВ рдХрд╛рдо рдХрд░рддрд╛ рд╣реВрдБ"
        """)

    # рдореБрдЦреНрдп рдЪреИрдЯ рдЗрдВрдЯрд░рдлрд╝реЗрд╕
    if st.session_state.user_name:
        # рд╕рдВрджреЗрд╢ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░реЗрдВ
        for message in st.session_state.messages:
            with st.chat_message(message["role"]):
                st.markdown(message["content"])

        # рдЪреИрдЯ рдЗрдирдкреБрдЯ
        if prompt := st.chat_input("рдЕрдкрдиреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдмрддрд╛рдПрдВ, рдпрд╛ рдорджрдж рдорд╛рдВрдЧреЗрдВ..."):
            # рдпреВрдЬрд╝рд░ рд╕рдВрджреЗрд╢ рдЬреЛрдбрд╝реЗрдВ
            st.session_state.messages.append({"role": "user", "content": prompt})

            with st.chat_message("user"):
                st.markdown(prompt)

            # AI рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ
            with st.chat_message("assistant"):
                with st.spinner("рд╕реЛрдЪ рд░рд╣рд╛ рд╣реВрдБ..."):
                    try:
                        response = requests.post(
                            "http://localhost:8000/chat",
                            json={
                                "messages": st.session_state.messages,
                                "userId": st.session_state.user_id
                            },
                            timeout=30
                        )

                        if response.status_code == 200:
                            # рд╕реНрдЯреНрд░реАрдорд┐рдВрдЧ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░реЗрдВ
                            full_response = ""
                            for line in response.iter_lines():
                                if line:
                                    try:
                                        data = json.loads(line.decode('utf-8').replace('data: ', ''))
                                        if 'content' in data:
                                            full_response += data['content']
                                    except:
                                        continue

                            st.markdown(full_response)
                            st.session_state.messages.append({
                                "role": "assistant",
                                "content": full_response
                            })
                        else:
                            st.error(f"рддреНрд░реБрдЯрд┐: {response.status_code}")
                    except Exception as e:
                        st.error(f"рдХрдиреЗрдХреНрд╢рди рддреНрд░реБрдЯрд┐: {e}")

    else:
        st.info("ЁЯСЖ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреГрдкрдпрд╛ рд╕рд╛рдЗрдбрдмрд╛рд░ рдореЗрдВ рдЕрдкрдирд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ!")

    # рдЗрд╕рдХреЗ рд╕рд╛рде рдЪрд▓рд╛рдПрдВ: streamlit run streamlit_app.py
    ```
  </Tab>
</Tabs>

<div id="testing-your-assistant">
  ## рдЕрдкрдиреЗ рдЕрд╕рд┐рд╕реНрдЯреЗрдВрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг
</div>

<div id="step-4-test-memory-formation">
  ### рдЪрд░рдг 4: memory рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдкрд░реАрдХреНрд╖рдг
</div>

memory рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдкрд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдпреЗ рдмрд╛рддрдЪреАрдд рдкреНрд░рд╡рд╛рд╣ рдЖрдЬрд╝рдорд╛рдПрдБ:

1. **рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкреНрд░рд╛рдердорд┐рдХрддрд╛рдПрдБ**:
   ```
   User: "Hi! I'm Sarah, a product manager at a tech startup. I prefer brief, actionable responses and I'm always busy with user research."

   Assistant: [рдирд╛рдо, рднреВрдорд┐рдХрд╛, рдФрд░ рд╕рдВрдЪрд╛рд░ рд╡рд░реАрдпрддрд╛ рдпрд╛рдж рд░рдЦрдиреА рдЪрд╛рд╣рд┐рдП]

   User: "What's a good way to prioritize features?"

   Assistant: [рдпрд╣ рд╕рдВрджрд░реНрдн рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдЖрдк PM рд╣реИрдВ рдФрд░ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдЬрд╡рд╛рдм рдкрд╕рдВрдж рдХрд░рддреЗ рд╣реИрдВ]
   ```

2. **рдбрд╛рдЗрдЯ рдФрд░ рд▓рд╛рдЗрдлрд╝рд╕реНрдЯрд╛рдЗрд▓**:
   ```
   User: "Remember that I'm vegan and I work out every morning at 6 AM."

   User: "Suggest a quick breakfast for tomorrow."

   Assistant: [рд╡рд░реНрдХрдЖрдЙрдЯ рд╕реЗ рдкрд╣рд▓реЗ/рдмрд╛рдж рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рд╡реЗрдЧрди рд╡рд┐рдХрд▓реНрдк рд╕реБрдЭрд╛рдиреЗ рдЪрд╛рд╣рд┐рдП]
   ```

3. **рдХрд╛рд░реНрдп рд╕рдВрджрд░реНрдн**:
   ```
   User: "I'm working on a React project and I prefer TypeScript over JavaScript."

   User: "Help me with state management."

   Assistant: [TypeScript-рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╛рдзрд╛рди рд╕реБрдЭрд╛рдиреЗ рдЪрд╛рд╣рд┐рдП]
   ```

<div id="step-5-verify-memory-storage">
  ### рдЪрд░рдг 5: рдореЗрдореЛрд░реА рд╕реНрдЯреЛрд░реЗрдЬ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░реЗрдВ
</div>

рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕рд╣реЗрдЬреА рдЬрд╛ рд░рд╣реА рд╣реИрдВ:

<Tabs>
  <Tab title="TypeScript">
    ```typescript scripts/check-memories.ts
    import { Supermemory } from '@supermemory/tools'

    const client = new Supermemory({
      apiKey: process.env.SUPERMEMORY_API_KEY!
    })

    async function checkUserMemories(userId: string) {
      try {
        const memories = await client.memories.list({
          containerTags: [userId],
          limit: 20,
          sort: 'updatedAt',
          order: 'desc'
        })

        console.log(`Found ${memories.memories.length} memories for ${userId}:`)
        memories.memories.forEach((memory, i) => {
          console.log(`${i + 1}. ${memory.content.substring(0, 100)}...`)
        })

        // рдЦреЛрдЬ рдХрд╛ рдкрд░реАрдХреНрд╖рдг
        const searchResults = await client.search.memories({
          q: "preferences work",
          containerTag: userId,
          limit: 5
        })

        console.log('\nрдЦреЛрдЬ рдкрд░рд┐рдгрд╛рдо:')
        searchResults.results.forEach((result, i) => {
          console.log(`${i + 1}. (${result.similarity}) ${result.memory.substring(0, 100)}...`)
        })

      } catch (error) {
        console.error('рддреНрд░реБрдЯрд┐:', error)
      }
    }

    // рдЪрд▓рд╛рдПрдБ: npx ts-node scripts/check-memories.ts USER_ID_HERE
    checkUserMemories(process.argv[2] || 'default-user')
    ```
  </Tab>

  <Tab title="Python">
    ```python check_memories.py
    from supermemory import Supermemory
    import os
    import sys

    client = Supermemory(api_key=os.getenv("SUPERMEMORY_API_KEY"))

    def check_user_memories(user_id):
        try:
            # рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рд╕рднреА рдореЗрдореЛрд░реА рд╕реВрдЪреАрдмрджреНрдз рдХрд░реЗрдВ
            memories = client.memories.list(
                container_tags=[user_id],
                limit=20,
                sort="updatedAt",
                order="desc"
            )

            print(f"Found {len(memories.memories)} memories for {user_id}:")
            for i, memory in enumerate(memories.memories):
                print(f"{i + 1}. {memory.content[:100]}...")

            # рдЦреЛрдЬ рдХрд╛ рдкрд░реАрдХреНрд╖рдг
            search_results = client.search.memories(
                q="preferences work",
                container_tag=user_id,
                limit=5
            )

            print('\nрдЦреЛрдЬ рдкрд░рд┐рдгрд╛рдо:')
            for i, result in enumerate(search_results.results):
                print(f"{i + 1}. ({result.similarity}) {result.memory[:100]}...")

        except Exception as error:
            print(f'рддреНрд░реБрдЯрд┐: {error}')

    # рдЪрд▓рд╛рдПрдБ: python check_memories.py USER_ID_HERE
    user_id = sys.argv[1] if len(sys.argv) > 1 else 'default-user'
    check_user_memories(user_id)
    ```
  </Tab>
</Tabs>

<div id="production-considerations">
  ## рдкреНрд░реЛрдбрдХреНрд╢рди рд╕рдВрдмрдВрдзреА рд╡рд┐рдЪрд╛рд░-рд╡рд┐рдорд░реНрд╢
</div>

<div id="security-privacy">
  ### рд╕реБрд░рдХреНрд╖рд╛ рдФрд░ рдЧреЛрдкрдиреАрдпрддрд╛
</div>

1. **рдпреВрдЬрд╝рд░ рдЖрдЗрд╕реЛрд▓реЗрд╢рди**:
   ```typescript
   // рд╣рдореЗрд╢рд╛ рдпреВрдЬрд╝рд░-рд╡рд┐рд╢рд┐рд╖реНрдЯ containerTags рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
   const tools = supermemoryTools(apiKey, {
     containerTags: [userId]
   })
   ```

2. **memory рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди**:
   ```typescript
   // рд╕рдВрд╡реЗрджрдирд╢реАрд▓ рдбреЗрдЯрд╛ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд╛рдЗрдб рдПрдиреНрдХреНрд░рд┐рдкреНрд╢рди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ
   const encryptedContent = encrypt(sensitiveData, userKey)
   await client.memories.add({
     content: encryptedContent,
     containerTag: userId,
     metadata: { encrypted: true }
   })
   ```

<div id="performance-optimization">
  ### рдкреНрд░рджрд░реНрд╢рди рдЕрдиреБрдХреВрд▓рди
</div>

1. **рдореЗрдореЛрд░реА рд╕рд░реНрдЪ рдЕрдиреБрдХреВрд▓рди**:
   ```typescript
   // рдЧрддрд┐ рдмрдирд╛рдо рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдереНрд░реЗрд╢реЛрд▓реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ
   const quickSearch = await client.search.memories({
     q: userQuery,
     containerTag: userId,
     threshold: 0.6,     // рд╕рдВрддреБрд▓рд┐рдд
     rerank: false,      // рдЧрддрд┐ рдХреЗ рд▓рд┐рдП рдЫреЛрдбрд╝реЗрдВ
     limit: 3            // рдХрдо рдкрд░рд┐рдгрд╛рдо
   })
   ```

2. **рдХреИрд╢рд┐рдВрдЧ рд░рдгрдиреАрддрд┐**:
   ```typescript
   // рдЕрдХреНрд╕рд░ рдПрдХреНрд╕реЗрд╕ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕рдВрджрд░реНрдн рдХреЛ рдХреИрд╢ рдХрд░реЗрдВ
   const userContext = await redis.get(`user_context:${userId}`)
   if (!userContext) {
     const memories = await client.search.memories({
       q: "user preferences work style",
       containerTag: userId,
       limit: 10
     })
     await redis.setex(`user_context:${userId}`, 300, JSON.stringify(memories))
   }
   ```

### рдореЙрдирд┐рдЯрд░рд┐рдВрдЧ &amp; рдПрдирд╛рд▓рд┐рдЯрд┐рдХреНрд╕

```typescript
// Memory рдирд┐рд░реНрдорд╛рдг рдФрд░ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рдХреЛ рдЯреНрд░реИрдХ рдХрд░реЗрдВ
const analytics = {
  memoriesCreated: await redis.incr(`memories_created:${userId}`),
  searchesPerformed: await redis.incr(`searches:${userId}`),
  conversationLength: messages.length
}

// рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХреЗ рд▓рд┐рдП рд▓реЙрдЧ рдХрд░реЗрдВ
console.log('рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░реИрдХреНрд╢рди:', {
  userId,
  action: 'chat_response',
  memoriesFound: searchResults.results.length,
  responseTime: Date.now() - startTime,
  ...analytics
})
```


<div id="extensions-customization">
  ## рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдФрд░ рдЕрдиреБрдХреВрд▓рди
</div>

<div id="1-add-personality-profiles">
  ### 1. рдкрд░реНрд╕рдиреИрд▓рд┐рдЯреА рдкреНрд░реЛрдлрд╛рдЗрд▓ рдЬреЛрдбрд╝реЗрдВ
</div>

```typescript
const personalityProfiles = {
  professional: "рдФрдкрдЪрд╛рд░рд┐рдХ, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЯреЛрди рдореЗрдВ рдЙрддреНрддрд░ рджреЗрдВ",
  casual: "рдХрднреА-рдХрднрд╛рд░ рд╣рд╛рд╕реНрдп рдХреЗ рд╕рд╛рде рдорд┐рддреНрд░рд╡рдд, рдмрд╛рддрдЪреАрдд рдХреЗ рдЕрдВрджрд╛рдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ",
  technical: "рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рд╡рд┐рд╕реНрддреГрдд рддрдХрдиреАрдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдкреНрд░рджрд╛рди рдХрд░реЗрдВ",
  concise: "рдЙрддреНрддрд░реЛрдВ рдХреЛ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рдФрд░ рд╕рдЯреАрдХ рд░рдЦреЗрдВ"
}

// рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░реЙрдореНрдкреНрдЯ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ
const userProfile = await getUserProfile(userId)
const systemPrompt = `${basePrompt}\n\nCommunication Style: ${personalityProfiles[userProfile.style]}`
```


<div id="2-smart-notifications">
  ### 2. рд╕реНрдорд╛рд░реНрдЯ рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди
</div>

```typescript
// рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкреИрдЯрд░реНрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕рдХреНрд░рд┐рдп рд╕реБрдЭрд╛рд╡
const shouldSuggest = await analyzeUserPatterns(userId)
if (shouldSuggest.type === 'daily_standup') {
  return {
    message: "рдЖрдкрдХреЗ рд╢реЗрдбреНрдпреВрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдХреНрдпрд╛ рдЖрдк рдЪрд╛рд╣реЗрдВрдЧреЗ рдХрд┐ рдореИрдВ рдЖрдкрдХреЗ рд╕реБрдмрд╣ 9 рдмрдЬреЗ рдХреЗ standup рдХреА рддреИрдпрд╛рд░реА рдореЗрдВ рдорджрдж рдХрд░реВрдВ?",
    suggestedActions: ["рдХрд▓ рдХреА рдкреНрд░рдЧрддрд┐ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдВ", "рдЖрдЬ рдХреЗ рд▓рдХреНрд╖реНрдп рддреИрдпрд╛рд░ рдХрд░реЗрдВ"]
  }
}
```


<div id="3-multi-modal-memory">
  ### 3. рдорд▓реНрдЯреА-рдореЛрдбрд▓ memory
</div>

```typescript
// рдЫрд╡рд┐рдпреЛрдВ рдФрд░ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХреЛ рд╣реИрдВрдбрд▓ рдХрд░реЗрдВ
if (message.attachments) {
  for (const attachment of message.attachments) {
    await client.memories.uploadFile({
      file: attachment,
      containerTag: userId,
      metadata: {
        type: 'user_shared',
        context: message.content
      }
    })
  }
}
```


<div id="next-steps">
  ## рдЕрдЧрд▓реЗ рдХрджрдо
</div>

- **рдХрдИ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рддрдХ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВ**: рдпреВрдЬрд╝рд░ рдСрдереЗрдВрдЯрд┐рдХреЗрд╢рди рдФрд░ рдЙрдЪрд┐рдд рдЖрдЗрд╕реЛрд▓реЗрд╢рди рдЬреЛрдбрд╝реЗрдВ
- **рд╡реЙрдпрд╕ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдЬреЛрдбрд╝реЗрдВ**: рд╕реНрдкреАрдЪ-рдЯреВ-рдЯреЗрдХреНрд╕реНрдЯ/рдЯреЗрдХреНрд╕реНрдЯ-рдЯреВ-рд╕реНрдкреАрдЪ API рдХреЗ рд╕рд╛рде рдЗрдВрдЯреАрдЧреНрд░реЗрдЯ рдХрд░реЗрдВ
- **рдореЛрдмрд╛рдЗрд▓ рдРрдк**: React Native рдпрд╛ Flutter рдХрд╛ рдореЛрдмрд╛рдЗрд▓ рд╕рдВрд╕реНрдХрд░рдг рдмрдирд╛рдПрдВ
- **рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди**: рдХреИрд▓реЗрдВрдбрд░, рдИрдореЗрд▓, рдФрд░ рдЯрд╛рд╕реНрдХ рдореИрдиреЗрдЬрдореЗрдВрдЯ рдЯреВрд▓реНрд╕ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ
- **рдПрдбрд╡рд╛рдВрд╕реНрдб AI рдлреАрдЪрд░реНрд╕**: рдЗрдореЛрд╢рди рдбрд┐рдЯреЗрдХреНрд╢рди рдФрд░ рдмрд╛рддрдЪреАрдд рдХрд╛ рд╕рд╛рд░рд╛рдВрд╢ рдЬреЛрдбрд╝реЗрдВ

<div id="troubleshooting">
  ## рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг
</div>

**рдореЗрдореЛрд░реА рд╕реНрдерд╛рдпреА рдирд╣реАрдВ рд╣реЛ рд░рд╣реА рд╣реИ?**

- рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ `x-sm-user-id` рд╣реЗрдбрд░ рд╕реБрд╕рдВрдЧрдд рд╣реИ
- рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ API рдХреБрдВрдЬреА рдХреЗ рдкрд╛рд╕ рд▓рд┐рдЦрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рд╣реИ
- рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХрдВрдЯреЗрдирд░ рдЯреИрдЧ рд╕рд╣реА рддрд░реАрдХреЗ рд╕реЗ рд╕реЗрдЯ рд╣реИрдВ

**рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдПрдБ рд╡реИрдпрдХреНрддрд┐рдХреГрдд рдирд╣реАрдВ рд╣реИрдВ?**

- рдЕрдзрд┐рдХ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ limit рдмрдврд╝рд╛рдПрдБ
- рд╡реНрдпрд╛рдкрдХ рдХрд╡рд░реЗрдЬ рдХреЗ рд▓рд┐рдП threshold рдХрдо рдХрд░реЗрдВ
- рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рд╕рдВрдЧреНрд░рд╣реАрдд рдореЗрдореЛрд░реА рдЙрдЪрд┐рдд рд╕рдВрджрд░реНрдн рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝реА рдЬрд╛ рд░рд╣реА рд╣реИрдВ

**рдкреНрд░рджрд░реНрд╢рди рд╕рдВрдмрдВрдзреА рд╕рдорд╕реНрдпрд╛рдПрдБ?**

- рддреЗрдЬрд╝ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЦреЛрдЬ limit рдШрдЯрд╛рдПрдБ
- рдмрд╛рд░-рдмрд╛рд░ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдЦреЛрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдХреИрд╢рд┐рдВрдЧ рд▓рд╛рдЧреВ рдХрд░реЗрдВ
- рдЧрддрд┐ рдмрдирд╛рдо рд╕рдЯреАрдХрддрд╛ рдореЗрдВ рд╕рдВрддреБрд▓рди рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд threshold рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ

---

*рдпрд╣ рд░реЗрд╕рд┐рдкреА рдПрдХ рд╡реНрдпрдХреНрддрд┐рдЧрдд AI рд╕рд╣рд╛рдпрдХ рдХреА рдиреАрдВрд╡ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред рдЗрд╕реЗ рдЕрдкрдиреА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдорд╛рдорд▓реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░реЗрдВред*