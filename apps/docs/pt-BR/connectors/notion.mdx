---
title: "Conector do Notion"
description: "Sincronize p√°ginas, bancos de dados e blocos do Notion com webhooks em tempo real e integra√ß√£o ao workspace"
icon: "notion"
---

Conecte workspaces do Notion para sincronizar automaticamente p√°ginas, bancos de dados e blocos de conte√∫do √† sua base de conhecimento do Supermemory. Oferece atualiza√ß√µes em tempo real, formata√ß√£o avan√ßada e propriedades de banco de dados.

<div id="quick-setup">
  ## Configura√ß√£o r√°pida
</div>

<div id="1-create-notion-connection">
  ### 1. Criar integra√ß√£o do Notion
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    import Supermemory from 'supermemory';

    const client = new Supermemory({
      apiKey: process.env.SUPERMEMORY_API_KEY!
    });

    const connection = await client.connections.create('notion', {
      redirectUrl: 'https://yourapp.com/auth/notion/callback',
      containerTags: ['user-123', 'notion-workspace'],
      documentLimit: 2000,
      metadata: {
        source: 'notion',
        workspaceType: 'team',
        department: 'product'
      }
    });

    // Redirecione o usu√°rio para o OAuth do Notion
    window.location.href = connection.authLink;
    ```
  </Tab>
  <Tab title="Python">
    ```python
    from supermemory import Supermemory
    import os

    client = Supermemory(api_key=os.environ.get("SUPERMEMORY_API_KEY"))

    connection = client.connections.create(
        'notion',
        redirect_url='https://yourapp.com/auth/notion/callback',
        container_tags=['user-123', 'notion-workspace'],
        document_limit=2000,
        metadata={
            'source': 'notion',
            'workspaceType': 'team',
            'department': 'product'
        }
    )

    # Redirecione o usu√°rio para o OAuth do Notion
    print(f'Redirecionar para: {connection.auth_link}')
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.supermemory.ai/v3/connections/notion" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "redirectUrl": "https://yourapp.com/auth/notion/callback",
        "containerTags": ["user-123", "notion-workspace"],
        "documentLimit": 2000,
        "metadata": {
          "source": "notion",
          "workspaceType": "team",
          "department": "product"
        }
      }'
    ```
  </Tab>
</Tabs>

<div id="2-handle-oauth-flow">
  ### 2. Tratar o fluxo de OAuth
</div>

Depois que o usu√°rio concede acesso ao workspace, o Notion redireciona para sua url de callback. A integra√ß√£o √© estabelecida automaticamente.

<div id="3-monitor-sync-progress">
  ### 3. Monitorar o progresso da sincroniza√ß√£o
</div>

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Verificar detalhes da integra√ß√£o
    const connection = await client.connections.getByTags('notion', {
      containerTags: ['user-123', 'notion-workspace']
    });

    console.log('Workspace conectado:', connection.email);
    console.log('Integra√ß√£o criada em:', connection.createdAt);

    // Listar p√°ginas e bancos de dados sincronizados
    const documents = await client.connections.listDocuments('notion', {
      containerTags: ['user-123', 'notion-workspace']
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Verificar detalhes da integra√ß√£o
    connection = client.connections.get_by_tags(
        'notion',
        container_tags=['user-123', 'notion-workspace']
    )

    print(f'Workspace conectado: {connection.email}')
    print(f'Integra√ß√£o criada em: {connection.created_at}')

    # Listar p√°ginas e bancos de dados sincronizados
    documents = client.connections.list_documents(
        'notion',
        container_tags=['user-123', 'notion-workspace']
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Obter detalhes da integra√ß√£o por provider e tags
    curl -X POST "https://api.supermemory.ai/v3/connections/notion/connection" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123", "notion-workspace"]}'

    # A resposta inclui detalhes da integra√ß√£o:
    # {
    #   "id": "conn_abc123",
    #   "provider": "notion",
    #   "email": "workspace@example.com",
    #   "createdAt": "2024-01-15T10:00:00Z",
    #   "documentLimit": 2000,
    #   "metadata": {...}
    # }

    # Listar documentos sincronizados
    curl -X POST "https://api.supermemory.ai/v3/connections/notion/documents" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123", "notion-workspace"]}'

    # Resposta: array de objetos de documento com status de sincroniza√ß√£o
    # [
    #   {"title": "Product Roadmap", "type": "notion_database", "status": "done"},
    #   {"title": "Meeting Notes", "type": "notion_page", "status": "done"}
    # ]
    ```
  </Tab>
</Tabs>

<div id="supported-content-types">
  ## Tipos de conte√∫do suportados
</div>

<div id="notion-pages">
  ### P√°ginas do Notion
</div>

- **Blocos de rich text** com a formata√ß√£o preservada
- **P√°ginas aninhadas** e estrutura hier√°rquica
- **Conte√∫do incorporado** (imagens, v√≠deos, arquivos)
- **Blocos de c√≥digo** com realce de sintaxe
- **Destaques e cita√ß√µes** convertidos para Markdown

<div id="notion-databases">
  ### Bancos de dados do Notion
</div>

- **Registros do banco de dados** sincronizados como documents individuais
- **Propriedades** inclu√≠das em metadata
- **Rela√ß√µes** entre registros do banco de dados
- **F√≥rmulas e rollups** com valores calculados
- **Propriedades select e multi-select**

<div id="block-types">
  ### Tipos de Bloco
</div>

| Tipo de Bloco | Processamento | Sa√≠da em Markdown |
|------------|------------|-----------------|
| **Texto** | Formata√ß√£o preservada | `**negrito**`, `*it√°lico*`, `~~tachado~~` |
| **Cabe√ßalho** | Hierarquia mantida | `# H1`, `## H2`, `### H3` |
| **C√≥digo** | Linguagem detectada | ````python\ncode here\n```` |
| **Cita√ß√£o** | Formato de cita√ß√£o em bloco | `> texto citado` |
| **Callout** | Formata√ß√£o personalizada | `> üí° **Nota:** texto do callout` |
| **Lista** | Estrutura preservada | `- item 1\n  - item aninhado` |
| **Tabela** | Tabelas em Markdown | `| Col 1 | Col 2 |\n|-------|-------|` |
| **Imagem** | Referenciada com metadata | `![alt text](url)` |
| **Incorpora√ß√£o** | Link com contexto | `[Conte√∫do incorporado](url)` |

<div id="delete-connection">
  ## Excluir integra√ß√£o
</div>

Remova uma integra√ß√£o do Notion quando n√£o for mais necess√°ria:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Excluir por ID da integra√ß√£o
    const result = await client.connections.delete('connection_id_123');
    console.log('Integra√ß√£o exclu√≠da:', result.id);

    // Excluir por provider e container tags
    const providerResult = await client.connections.deleteByProvider('notion', {
      containerTags: ['user-123']
    });
    console.log('Integra√ß√£o do Notion do usu√°rio exclu√≠da');
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Excluir por ID da integra√ß√£o
    result = client.connections.delete('connection_id_123')
    print(f'Integra√ß√£o exclu√≠da: {result.id}')

    # Excluir por provider e container tags
    provider_result = client.connections.delete_by_provider(
        'notion',
        container_tags=['user-123']
    )
    print('Integra√ß√£o do Notion do usu√°rio exclu√≠da')
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Excluir por ID da integra√ß√£o
    curl -X DELETE "https://api.supermemory.ai/v3/connections/connection_id_123" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY"

    # Excluir por provider e container tags
    curl -X DELETE "https://api.supermemory.ai/v3/connections/notion" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{"containerTags": ["user-123"]}'
    ```
  </Tab>
</Tabs>

<Note>
Excluir uma integra√ß√£o ir√°:
- Interromper todas as sincroniza√ß√µes futuras do Notion
- Remover a autoriza√ß√£o OAuth
- Manter os documents j√° sincronizados na Supermemory (eles n√£o ser√£o exclu√≠dos)
</Note>

<div id="advanced-configuration">
  ## Configura√ß√£o avan√ßada
</div>

<div id="custom-notion-integration">
  ### Integra√ß√£o personalizada com o Notion
</div>

Para ambientes de produ√ß√£o, crie sua pr√≥pria integra√ß√£o com o Notion:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Primeiro, atualize as configura√ß√µes da organiza√ß√£o com as credenciais do seu app do Notion
    await client.settings.update({
      notionCustomKeyEnabled: true,
      notionClientId: 'your-notion-client-id',
      notionClientSecret: 'your-notion-client-secret'
    });

    // Em seguida, crie conex√µes usando sua integra√ß√£o personalizada
    const connection = await client.connections.create('notion', {
      redirectUrl: 'https://yourapp.com/callback',
      containerTags: ['org-456', 'user-789'],
      metadata: { customIntegration: true }
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Primeiro, atualize as configura√ß√µes da organiza√ß√£o com as credenciais do seu app do Notion
    client.settings.update(
        notion_custom_key_enabled=True,
        notion_client_id='your-notion-client-id',
        notion_client_secret='your-notion-client-secret'
    )

    # Em seguida, crie conex√µes usando sua integra√ß√£o personalizada
    connection = client.connections.create(
        'notion',
        redirect_url='https://yourapp.com/callback',
        container_tags=['org-456', 'user-789'],
        metadata={'customIntegration': True}
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Atualize as configura√ß√µes da organiza√ß√£o
    curl -X PATCH "https://api.supermemory.ai/v3/settings" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "notionCustomKeyEnabled": true,
        "notionClientId": "your-notion-client-id",
        "notionClientSecret": "your-notion-client-secret"
      }'
    ```
  </Tab>
</Tabs>

<div id="content-filtering">
  ### Filtragem de conte√∫do
</div>

Defina quais conte√∫dos do Notion ser√£o sincronizados:

<Tabs>
  <Tab title="TypeScript">
    ```typescript
    // Configurar filtragem inteligente para conte√∫do do Notion
    await client.settings.update({
      shouldLLMFilter: true,
      includeItems: {
        pageTypes: ['page', 'database'],
        titlePatterns: ['*Spec*', '*Documentation*', '*Meeting Notes*'],
        databases: ['Project Tracker', 'Knowledge Base', 'Team Wiki']
      },
      excludeItems: {
        titlePatterns: ['*Draft*', '*Personal*', '*Archive*'],
        databases: ['Personal Tasks', 'Scratchpad']
      },
      filterPrompt: "Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
    });
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Configurar filtragem inteligente para conte√∫do do Notion
    client.settings.update(
        should_llm_filter=True,
        include_items={
            'pageTypes': ['page', 'database'],
            'titlePatterns': ['*Spec*', '*Documentation*', '*Meeting Notes*'],
            'databases': ['Project Tracker', 'Knowledge Base', 'Team Wiki']
        },
        exclude_items={
            'titlePatterns': ['*Draft*', '*Personal*', '*Archive*'],
            'databases': ['Personal Tasks', 'Scratchpad']
        },
        filter_prompt="Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
    )
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Configurar filtragem inteligente para conte√∫do do Notion
    curl -X PATCH "https://api.supermemory.ai/v3/settings" \
      -H "Authorization: Bearer $SUPERMEMORY_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "shouldLLMFilter": true,
        "includeItems": {
          "pageTypes": ["page", "database"],
          "titlePatterns": ["*Spec*", "*Documentation*", "*Meeting Notes*"],
          "databases": ["Project Tracker", "Knowledge Base", "Team Wiki"]
        },
        "excludeItems": {
          "titlePatterns": ["*Draft*", "*Personal*", "*Archive*"],
          "databases": ["Personal Tasks", "Scratchpad"]
        },
        "filterPrompt": "Sync professional documentation, project specs, meeting notes, and team knowledge. Skip personal notes, drafts, and archived content."
      }'

    # Resposta:
    # {
    #   "success": true,
    #   "message": "Configura√ß√µes atualizadas com sucesso"
    # }
    ```
  </Tab>
</Tabs>

<div id="workspace-permissions">
  ## Permiss√µes do workspace
</div>

O conector do Notion respeita as permiss√µes do workspace:

| N√≠vel de permiss√£o | Comportamento de sincroniza√ß√£o |
|-----------------|---------------|
| **Admin** | Acesso completo ao workspace |
| **Member** | P√°ginas com acesso de leitura |
| **Guest** | Apenas p√°ginas compartilhadas |
| **Sem acesso** | Removido do √≠ndice |

<div id="database-integration">
  ## Integra√ß√£o com banco de dados
</div>

<div id="database-properties">
  ### Propriedades do banco de dados
</div>

As propriedades de banco de dados do Notion s√£o mapeadas para metadata:

```typescript
// Exemplo: Banco de dados de projeto com propriedades
const documents = await client.connections.listDocuments('notion', {
  containerTags: ['user-123']
});

// Encontrar entradas do banco de dados
const projectEntries = documents.filter(doc =>
  doc.metadata?.database === 'Projects'
);

// Propriedades do banco de dados se tornam metadata pesquis√°vel
const projectWithStatus = await client.search.documents({
  q: "projeto de machine learning",
  containerTags: ['user-123'],
  filters: JSON.stringify({
    AND: [
      { key: "status", value: "In Progress", negate: false },
      { key: "priority", value: "High", negate: false }
    ]
  })
});
```


<div id="optimization-strategies">
  ### Estrat√©gias de otimiza√ß√£o
</div>

1. **Defina limites de documentos adequados** com base no tamanho do workspace
2. **Use tags de cont√™iner espec√≠ficas** para organizar com efici√™ncia
3. **Monitore o desempenho da sincroniza√ß√£o de bancos de dados** em conjuntos de dados grandes
4. **Implemente filtros de conte√∫do** para sincronizar apenas as p√°ginas relevantes
5. **Lide com atrasos de webhooks** de forma resiliente no seu aplicativo

<Callout type="info">
**Benef√≠cios espec√≠ficos do Notion:**
- Sincroniza√ß√£o em tempo real via webhooks para atualiza√ß√µes instant√¢neas
- Formata√ß√£o rica e estrutura de blocos preservadas
- Propriedades de banco de dados tornam-se metadata pesquis√°vel
- Estrutura hier√°rquica de p√°ginas mantida
- Suporte a workspaces colaborativos
</Callout>

<Warning>
**Limita√ß√µes importantes:**
- A formata√ß√£o de blocos complexos pode ser simplificada na convers√£o para Markdown
- Bancos de dados grandes podem levar um tempo significativo para sincronizar inicialmente
- As permiss√µes do workspace afetam quais conte√∫dos ficam acess√≠veis
- Os rate limits da Notion API podem afetar a velocidade de sincroniza√ß√£o em workspaces grandes
- Arquivos e imagens incorporados s√£o referenciados, n√£o armazenados diretamente
</Warning>