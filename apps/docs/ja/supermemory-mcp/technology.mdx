---
title: "技術実装の詳細"
description: "supermemory MCP の技術実装の詳細"
---

この技術アーキテクチャは、堅牢な機能を保ちながら、まずは「シンプルさ」と「ユーザー体験」を最優先に設計されています。制作者いわく「これまでに見た中で最もシンプルなもの」で、実質的には React Router アプリケーションが supermemory API に fetch するだけの構成です。システム全体は、実作業ベースで約5時間で開発・リリースされました。

<div id="architecture-components">
  ### アーキテクチャのコンポーネント
</div>

- **Backend API**: supermemory API (https://api.supermemory.ai/v3) の上に構築
- **Transport Layer**: リアルタイム通信に Server-Sent Events (SSE) を使用
- **Dynamic Server Generation**: URL パスパラメータ経由でユーザーごとに一意の MCP サーバーインスタンスを生成
- **Session Management**: 一意の URL によりユーザー間の完全な分離を維持
- **Infrastructure**: Cloudflare 上でホストし、Durable Objects を用いて永続的かつ長時間の接続を実現

このシステムは **Cloudflare のインフラ** と CPU ベースの課金モデルを活用しています。メモリーの連携は対話と対話の間の待機時間が大半を占め、能動的な処理が少ないため、たとえ実行時間が数百万ミリ秒に及ぶ場合でも CPU 使用量は最小限に抑えられ、高い効率性を実現します。

<div id="the-two-main-components-explained">
  ## 2つの主要コンポーネントの説明
</div>

<div id="addtosupermemory-action">
  ### addToSupermemory アクション
</div>

このコンポーネントは、高度なトリガー機構により、**ユーザー情報、嗜好、行動パターンを保存**します。

**トリガー方法:**

- **明示的なコマンド**: 「これを覚えて」など、ユーザーからの直接的な指示
- **暗黙的な検出**: 会話中に重要なユーザーの特性・嗜好・パターンを自動的に特定

**取得されるデータの種類:**

- 技術的な嗜好や詳細（例:「私の主なプログラミング言語はPythonです」）
- プロジェクト情報とコンテキスト（例:「現在『Apollo』というプロジェクトに取り組んでいます」）
- ユーザーの行動や感情的反応
- 個人的な事実、嗜好、意思決定パターン
- 技術的な詳細や例を含むリッチなコンテキスト

<div id="searchsupermemory-action">
  ### searchSupermemory アクション
</div>

このコンポーネントは、高度な検索機能により保存メモリから関連情報を取得します:

**起動トリガー:**

- 過去の情報を求める明示的なユーザーリクエスト
- 過去のユーザー選択が現在の意思決定に役立つ文脈
- 会話の流れに応じた自動的なコンテキスト強化

**検索機能:**

- **セマンティックマッチング**: ベクトル検索で関連する体験横断の詳細を特定
- **パターン認識**: 行動パターンや嗜好を抽出
- **セッション横断の取得**: 以前の会話やプラットフォームにまたがるメモリーへアクセス
- **インテリジェントフィルタリング**: 現在の会話ニーズに基づき最も関連性の高いコンテキストを返す